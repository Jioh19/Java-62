<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Gestión de Usuarios</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h1 class="mb-4">Gestión de Usuarios</h1>

        <!-- Mensajes de éxito o error -->
        <div th:if="${mensaje}" class="alert alert-success" role="alert">
            <span th:text="${mensaje}"></span>
        </div>
        <div th:if="${error}" class="alert alert-danger" role="alert">
            <span th:text="${error}"></span>
        </div>

        <!-- Formulario de Usuario -->
        <div class="card mb-4">
            <div class="card-header">
                <h3 th:text="${modoEdicion} ? 'Editar Usuario' : 'Nuevo Usuario'"></h3>
            </div>
            <div class="card-body">
                <form th:action="${modoEdicion} ? @{/usuarios/modificar} : @{/usuarios/crear}" method="post" th:object="${usuario}">
                    <!-- Campo ID oculto para edición -->
      
                    <div class="row">
                    <div class="col-md-6 mb-3">
                            <label for="id" class="form-label">Id</label>
                            <input type="number" class="form-control" th:field="*{id}" required>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="nombre" class="form-label">Nombre</label>
                            <input type="text" class="form-control" th:field="*{nombre}" required>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="fechaNacimiento" class="form-label">Fecha Nacimiento</label>
                            <input type="text" class="form-control" th:field="*{fechaNacimiento}" required>
                        </div>
                    </div>

<!--                     Campos adicionales según tu clase Usuario -->
<!--                     <div class="row"> -->
<!--                         <div class="col-md-6 mb-3"> -->
<!--                             <label for="username" class="form-label">Username</label> -->
<!--                             <input type="text" class="form-control" th:field="*{username}"> -->
<!--                         </div> -->
<!--                         <div class="col-md-6 mb-3"> -->
<!--                             <label for="rol" class="form-label">Rol</label> -->
<!--                             <input type="text" class="form-control" th:field="*{rol}"> -->
<!--                         </div> -->
<!--                     </div> -->

<!--                     <div class="d-flex justify-content-between"> -->
                        <button type="submit" class="btn btn-primary">
                            <span th:text="${modoEdicion} ? 'Actualizar' : 'Crear'"></span>
                        </button>
<!--                         <a th:if="${modoEdicion}" th:href="@{/usuarios}" class="btn btn-secondary">Cancelar</a> -->
<!--                     </div> -->
                </form>
            </div>
        </div>

        <!-- Tabla de Usuarios -->
<!--         <div class="card"> -->
<!--             <div class="card-header"> -->
<!--                 <h3>Lista de Usuarios</h3> -->
<!--             </div> -->
<!--             <div class="card-body"> -->
<!--                 <table class="table table-striped table-hover"> -->
<!--                     <thead> -->
<!--                         <tr> -->
<!--                             <th>ID</th> -->
<!--                             <th>Nombre</th> -->
<!--                             <th>Email</th> -->
<!--                             <th>Username</th> -->
<!--                             <th>Rol</th> -->
<!--                             <th>Acciones</th> -->
<!--                         </tr> -->
<!--                     </thead> -->
<!--                     <tbody> -->
<!--                         <tr th:each="u : ${usuarios}"> -->
<!--                             <td th:text="${u.id}"></td> -->
<!--                             <td th:text="${u.nombre}"></td> -->
<!--                             <td th:text="${u.email}"></td> -->
<!--                             <td th:text="${u.username}"></td> -->
<!--                             <td th:text="${u.rol}"></td> -->
<!--                             <td> -->
<!--                                 <a th:href="@{/usuarios/editar/{id}(id=${u.id})}" class="btn btn-sm btn-warning"> -->
<!--                                     <i class="fas fa-edit"></i> Editar -->
<!--                                 </a> -->
<!--                                 <a th:href="@{/usuarios/eliminar/{id}(id=${u.id})}"  -->
<!--                                    class="btn btn-sm btn-danger"  -->
<!--                                    onclick="return confirm('¿Estánbv
<!--                             </td> -->
<!--                         </tr> -->
<!--                     </tbody> -->
<!--                 </table> -->
<!--             </div> -->
<!--         </div> -->
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
</body>
</html>